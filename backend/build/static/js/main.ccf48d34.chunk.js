(this.webpackJsonpminimart=this.webpackJsonpminimart||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),s=a.n(r),i=(a(118),a(119),a(41)),l=a(13),o=a(11),d=a(219),j=a(216),u=a(99),h=a(217),b=a(207),x=a(100),m=a.p+"static/media/customLogo.3b2eb80b.png",O=a(208),p=a(101),f=a.n(p),g=a(2);function v(e){return Object(g.jsxs)(j.a,{className:"mx-auto p-0 pb-1",style:{width:"95%"},children:[Object(g.jsx)(u.a,{xs:4,className:"mt-auto p-0",children:Object(g.jsx)(h.a,{className:"d-flex",children:Object(g.jsxs)(b.a,{className:"mb-1",children:[Object(g.jsx)(b.a.Prepend,{children:Object(g.jsx)(b.a.Text,{id:"basic-addon1",children:"Category"})}),Object(g.jsxs)(x.a,{as:"select",style:{width:"100px"},className:"form-select",value:e.category,onChange:function(t){return e.setCategory(t.target.value)},children:[Object(g.jsx)("option",{value:"All",children:"All Items"}),Object(g.jsx)("option",{value:"Drinks",children:"Drinks"}),Object(g.jsx)("option",{value:"Food",children:"Food"}),Object(g.jsx)("option",{value:"Fruits",children:"Fruits"}),Object(g.jsx)("option",{value:"Snacks",children:"Snacks"}),Object(g.jsx)("option",{value:"Others",children:"Others"})]}),Object(g.jsx)(x.a,{type:"search",placeholder:"Search","aria-label":"Search",style:{width:"100px"},value:e.search,onChange:function(t){return e.setSearch(t.target.value)}})]})})}),Object(g.jsx)(u.a,{xs:4,align:"center",children:Object(g.jsxs)(j.a.Brand,{children:[Object(g.jsx)("img",{alt:"",src:m,width:"200",height:"100"})," "]})}),Object(g.jsx)(u.a,{xs:4,className:"mt-auto",align:"right",style:{paddingRight:"20px"},children:Object(g.jsxs)(O.a,{style:{color:"#285E37"},children:[Object(g.jsx)(f.a,{fontSize:"large"}),Object(g.jsx)("span",{style:{position:"absolute",right:3,top:3,color:"#C70039",fontSize:"1.2rem"},children:Object.keys(e.cart).length>0?Object.values(e.cart).reduce((function(e,t){return e+t}),0):""})]})})]})}var y=a(25),w=a.n(y),N=a(37),S=a(211),F=a(212),C=a(218),k=a(214),A=a(38),D=a.n(A),I=a(104),T=a.n(I),_=a(103),E=a.n(_),J=a(102),L=a.n(J),P=a(210),H=a(213),B=Object(P.a)((function(e){return{customHoverFocus:{"&:hover, &.Mui-focusVisible":{backgroundColor:"#65b32E",color:"white"},backgroundColor:"whitesmoke",borderColor:"#89B765",border:"1px solid",color:"black"}}}));function R(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],d=i[1],j=B();return Object(c.useEffect)((function(){function e(){return(e=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("/api/getall");case 2:t=e.sent,r(t.data),d(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsx)(S.a,{style:{maxWidth:"95%",height:"100%",overflowY:"auto"},children:l?Object(g.jsx)(F.a,{children:n.filter((function(t){return t.category===e.category||"All"===e.category})).filter((function(t){return t.name.toLowerCase().includes(e.search.toLowerCase())})).map((function(t){return Object(g.jsx)(u.a,{xs:2,className:"border p-1",style:{height:"250px"},children:Object(g.jsxs)(C.a,{className:"w-100 h-100",children:[Object(g.jsx)(C.a.Img,{style:{height:"100px",width:"auto"},className:"mx-auto mt-2",variant:"top",src:t.image}),Object(g.jsxs)(C.a.Body,{className:"d-flex align-items-start flex-column pb-1",children:[Object(g.jsx)("h6",{className:"mb-auto text",children:t.name}),Object(g.jsxs)("div",{children:["S$",t.price.toFixed(2)]})]}),Object(g.jsx)("div",{className:"mx-auto mb-2 d-flex justify-content-between",style:{width:"70%"},children:e.cart.hasOwnProperty(t._id)?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{className:j.customHoverFocus,onClick:function(){return e.removeFromCart(t._id)},children:Object(g.jsx)(L.a,{fontSize:"small"})}),Object(g.jsx)("span",{className:"my-auto",style:{textAlign:"center",width:"100%"},children:Object(g.jsx)("strong",{children:e.cart[t._id]})}),Object(g.jsx)(O.a,{className:j.customHoverFocus,onClick:function(){return e.addToCart(t._id)},children:Object(g.jsx)(E.a,{fontSize:"small"})})]}):Object(g.jsx)(H.a,{style:{width:"100%",textTransform:"none"},className:"button-responsive ".concat(j.customHoverFocus),endIcon:Object(g.jsx)(T.a,{}),onClick:function(){return e.addToCart(t._id)},children:Object(g.jsx)("span",{className:"d-none d-xl-block",children:"Add To Cart"})})})]})})}))}):Object(g.jsx)("div",{className:"h-100 w-100 d-flex",children:Object(g.jsx)(k.a,{className:"mx-auto my-auto",animation:"border",variant:"success"})})})}function z(){var e=Object(c.useState)("All"),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),l=s[0],j=s[1],u=Object(c.useState)({}),h=Object(o.a)(u,2),b=h[0],x=h[1];return Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},className:"d-flex align-items-start flex-column",children:[Object(g.jsx)(v,{setCategory:n,category:a,setSearch:j,search:l,cart:b}),Object(g.jsx)(R,{category:a,search:l,cart:b,addToCart:function(e){var t=JSON.parse(JSON.stringify(b));void 0===t[e]?t[e]=1:t[e]+=1,x(t)},removeFromCart:function(e){var t=JSON.parse(JSON.stringify(b));t.hasOwnProperty(e)&&(t[e]-=1,t[e]<=0&&delete t[e]),x(t)}}),Object(g.jsx)(i.b,{to:"/admin",children:Object(g.jsx)(d.a,{style:{position:"absolute",top:"10px",right:"10px"},variant:"outline-success",children:" Go To Admin View"})})]})}var U=a(66),q=a(105),V=a.n(q),$=a(70),M=a.n($),G=a(215),Y=a(64);function W(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(c.useState)(),m=Object(o.a)(u,2),O=m[0],p=m[1],f=Object(c.useState)(),v=Object(o.a)(f,2),y=v[0],w=v[1],N=Object(c.useState)(),S=Object(o.a)(N,2),F=S[0],k=S[1],A=function(){r(!1)};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{onClick:function(){r(!0),j(e.data.image),p(e.data.name),w(e.data.price),k(e.data.category)},className:"px-1 pt-0 pb-1 mx-1",style:{borderColor:"grey"},variant:"outline-dark",children:Object(g.jsx)(U.a,{})}),Object(g.jsx)(G.a,{size:"md",show:n,onHide:A,animation:!1,children:Object(g.jsxs)(h.a,{onSubmit:function(t){return function(t){t.preventDefault(),r(!1);var a={_id:e.data._id,name:O,category:F,image:l,price:parseFloat(y)};e.editData(a)}(t)},children:[Object(g.jsx)(G.a.Header,{children:Object(g.jsx)(G.a.Title,{children:"Edit Item"})}),Object(g.jsxs)(G.a.Body,{children:[Object(g.jsx)(C.a.Img,{style:{height:"100px",width:"auto"},className:"mx-auto",variant:"top",src:l}),Object(g.jsx)(h.a.File,{className:"mt-2",custom:!0,children:Object(g.jsx)(h.a.File.Input,{accept:"image/*",onChange:function(e){var t=Object(o.a)(e.target.files,1)[0];if(t){var a=new FileReader;a.onload=function(e){var t=document.createElement("img");t.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d"),c=t.width,n=t.height,r=Math.min(c/n*100,125);e.width=r,e.height=100,a.drawImage(t,0,0,r,100);var s=e.toDataURL("image/png");j(s)},t.src=e.target.result},a.readAsDataURL(t)}}})}),Object(g.jsxs)(b.a,{className:"mt-2",children:[Object(g.jsx)(b.a.Prepend,{children:Object(g.jsx)(b.a.Text,{id:"basic-addon1",children:"Item Name"})}),Object(g.jsx)(x.a,{value:O,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(g.jsxs)(b.a,{className:"mt-2",children:[Object(g.jsx)(b.a.Prepend,{children:Object(g.jsx)(b.a.Text,{id:"basic-addon1",children:"Item Category"})}),Object(g.jsxs)(x.a,{as:"select",className:"form-select",onChange:function(e){return k(e.target.value)},value:F,children:[Object(g.jsx)("option",{value:"Drinks",children:"Drinks"}),Object(g.jsx)("option",{value:"Food",children:"Food"}),Object(g.jsx)("option",{value:"Fruits",children:"Fruits"}),Object(g.jsx)("option",{value:"Snacks",children:"Snacks"}),Object(g.jsx)("option",{value:"Others",children:"Others"})]})]}),Object(g.jsx)(b.a,{className:"mt-2",children:Object(g.jsx)(Y.a,{className:"w-100",placeholder:"S$",decimalsLimit:2,prefix:"S$",value:y,onValueChange:function(e){w(e)},required:!0})})]}),Object(g.jsxs)(G.a.Footer,{children:[Object(g.jsx)(d.a,{variant:"secondary",onClick:A,children:"Close"}),Object(g.jsx)(d.a,{variant:"success",type:"submit",children:"Update Item"})]})]})})]})}function K(e){var t=[{dataField:"image",text:"Image",formatter:function(e,t){return Object(g.jsx)("div",{className:"w-100 mx-auto",children:Object(g.jsx)("img",{alt:"item",style:{height:"40px",width:"auto"},src:e,className:"img-thumbnail mx-auto"})})},style:{textAlign:"center"},headerStyle:{width:"70px",textAlign:"center",verticalAlign:"middle"}},{dataField:"_id",text:"ID",classes:"wrapword",style:{textAlign:"center"},headerStyle:{width:"230px",verticalAlign:"middle"}},{dataField:"name",text:"Name",headerStyle:{verticalAlign:"middle"},sort:!0,filter:Object($.textFilter)()},{dataField:"price",text:"Price",style:{textAlign:"center"},headerStyle:{width:"120px",textAlign:"center",verticalAlign:"middle"},formatter:function(e,t){return Object(g.jsx)("span",{children:e.toFixed(2)})},headerFormatter:function(e,t,a){var c=a.sortElement,n=a.filterElement;return Object(g.jsxs)("div",{className:"h-100",children:[Object(g.jsxs)("span",{className:"mb-auto",children:[e.text," ",c]}),n]})},sort:!0},{dataField:"category",text:"Category",style:{textAlign:"center"},headerStyle:{width:"280px",textAlign:"center",verticalAlign:"middle"},filter:Object($.selectFilter)({options:{Drinks:"Drinks",Food:"Food",Fruits:"Fruits",Snacks:"Snacks",Others:"Others"}})},{dataField:"dummy",isDummyField:!0,text:"Action",style:{textAlign:"center"},headerStyle:{width:"100px",textAlign:"center",verticalAlign:"middle"},formatter:function(t,a){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(W,{data:a,editData:e.editData}),Object(g.jsx)(d.a,{className:"px-1 pt-0 pb-1 mx-1",variant:"outline-dark",style:{borderColor:"grey"},onClick:function(){return e.deleteData(a._id)},children:Object(g.jsx)(U.b,{})})]})}}];return Object(g.jsx)(V.a,{bootstrap4:!0,keyField:"_id",data:e.data,columns:t,filter:M()()})}var Q=a.p+"static/media/placeholder.39a842d0.jpg";function X(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(Q),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(c.useState)("Item Name"),m=Object(o.a)(u,2),O=m[0],p=m[1],f=Object(c.useState)(""),v=Object(o.a)(f,2),y=v[0],w=v[1],N=Object(c.useState)("Others"),S=Object(o.a)(N,2),F=S[0],k=S[1];function A(){r(!1),j(Q),p("Item Name"),w(""),k("Others")}var D=function(){A()};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(d.a,{className:"my-1",variant:"success",onClick:function(){return r(!0)},children:"Add New Item"}),Object(g.jsx)(G.a,{size:"md",show:n,onHide:D,animation:!1,children:Object(g.jsxs)(h.a,{onSubmit:function(t){return function(t){t.preventDefault(),r(!1);var a={name:O,category:F,image:l,price:parseFloat(y)};A(),e.insertData(a)}(t)},children:[Object(g.jsx)(G.a.Header,{children:Object(g.jsx)(G.a.Title,{children:"Add New Item"})}),Object(g.jsxs)(G.a.Body,{children:[Object(g.jsx)(C.a.Img,{style:{height:"100px",width:"auto"},className:"mx-auto",variant:"top",src:l}),Object(g.jsx)(h.a.File,{className:"mt-2",custom:!0,children:Object(g.jsx)(h.a.File.Input,{accept:"image/*",onChange:function(e){var t=Object(o.a)(e.target.files,1)[0];if(t){var a=new FileReader;a.onload=function(e){var t=document.createElement("img");t.onload=function(){var e=document.createElement("canvas"),a=e.getContext("2d"),c=t.width,n=t.height,r=Math.min(c/n*100,125);e.width=r,e.height=100,a.drawImage(t,0,0,r,100);var s=e.toDataURL("image/png");j(s)},t.src=e.target.result},a.readAsDataURL(t)}},required:!0})}),Object(g.jsxs)(b.a,{className:"mt-2",children:[Object(g.jsx)(b.a.Prepend,{children:Object(g.jsx)(b.a.Text,{id:"basic-addon1",children:"Item Name"})}),Object(g.jsx)(x.a,{onChange:function(e){return p(e.target.value)},required:!0})]}),Object(g.jsxs)(b.a,{className:"mt-2",children:[Object(g.jsx)(b.a.Prepend,{children:Object(g.jsx)(b.a.Text,{id:"basic-addon1",children:"Item Category"})}),Object(g.jsxs)(x.a,{as:"select",className:"form-select",onChange:function(e){return k(e.target.value)},value:F,children:[Object(g.jsx)("option",{value:"Drinks",children:"Drinks"}),Object(g.jsx)("option",{value:"Food",children:"Food"}),Object(g.jsx)("option",{value:"Fruits",children:"Fruits"}),Object(g.jsx)("option",{value:"Snacks",children:"Snacks"}),Object(g.jsx)("option",{value:"Others",children:"Others"})]})]}),Object(g.jsx)(b.a,{className:"mt-2",children:Object(g.jsx)(Y.a,{className:"w-100",placeholder:"S$",decimalsLimit:2,prefix:"S$",onValueChange:function(e){w(e)},required:!0})})]}),Object(g.jsxs)(G.a.Footer,{children:[Object(g.jsx)(d.a,{variant:"secondary",onClick:D,children:"Close"}),Object(g.jsx)(d.a,{variant:"success",type:"submit",children:"Add Item"})]})]})})]})}function Z(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),s=Object(o.a)(r,2),l=s[0],j=s[1];function h(){return b.apply(this,arguments)}function b(){return(b=Object(N.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D()("/api/getall").catch((function(e){console.log(e)}));case 2:t=e.sent,j(t.data),n(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(N.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.a.post("/api/insert",t).then((function(e){t._id=e.data;var a=JSON.parse(JSON.stringify(l));a.push(t),j(a),h()})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(N.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(l)),c=a.findIndex((function(e){return e._id===t._id})),a[c]=t,j(a),D.a.put("/api/update",t).then((function(e){h()})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(N.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(a=JSON.parse(JSON.stringify(l))).filter((function(e){return e._id!==t})),j(a),D.a.delete("/api/delete",{data:{_id:t}}).then((function(e){return h()})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){h()}),[]),Object(g.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[a?Object(g.jsxs)("div",{style:{width:"95%"},className:"h-100 d-flex align-items-start flex-column mx-auto",children:[Object(g.jsxs)(F.a,{className:"py-1 w-100",children:[Object(g.jsx)(u.a,{xs:4,className:"mt-auto",children:Object(g.jsx)(X,{insertData:function(e){return x.apply(this,arguments)}})}),Object(g.jsx)(u.a,{xs:4,align:"center",children:Object(g.jsx)("img",{alt:"",src:m,width:"200",height:"100"})})]}),Object(g.jsx)("div",{style:{height:"100%",overflowY:"auto"},children:Object(g.jsx)(K,{deleteData:function(e){return p.apply(this,arguments)},editData:function(e){return O.apply(this,arguments)},data:l})})]}):Object(g.jsx)("div",{className:"h-100 w-100 d-flex",children:Object(g.jsx)(k.a,{className:"mx-auto my-auto",animation:"border",variant:"success"})}),Object(g.jsx)(i.b,{to:"/",children:Object(g.jsx)(d.a,{style:{position:"absolute",top:"10px",right:"10px"},variant:"outline-success",children:" Go To User View"})})]})}function ee(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/admin",children:Object(g.jsx)(Z,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/",children:Object(g.jsx)(z,{})})]})})}var te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,221)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(190),a(191);s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(ee,{})}),document.getElementById("root")),te()}},[[192,1,2]]]);
//# sourceMappingURL=main.ccf48d34.chunk.js.map